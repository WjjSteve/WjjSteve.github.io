---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
 * sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* ===========================================
   Publications page column fix (academicpages)
   For layout: archive + author_profile: true
   =========================================== */

body.layout-archive.author-profile #main {
  /* 2-column grid: left = author sidebar, right = publications list */
  display: grid;
  grid-template-columns: 320px minmax(0, 1fr);
  column-gap: 2rem;
  align-items: start;
}

/* Sidebar column (author profile) */
body.layout-archive.author-profile #main .sidebar,
body.layout-archive.author-profile #main .page__sidebar {
  position: static;
  max-width: 100%;
  flex: 0 0 320px; /* fixed sidebar width */
}

/* Main column */
body.layout-archive.author-profile #main .archive,
body.layout-archive.author-profile #main .page__content {
  min-width: 0;              /* allows wrapping inside grid/flex */
  overflow-wrap: anywhere;   /* prevent long links/titles from overflowing */
}

/* Headshot image styling */
body.layout-archive.author-profile #main .sidebar img,
body.layout-archive.author-profile #main .page__sidebar img {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 50%;
}

/* Publication item spacing */
body.layout-archive.author-profile #main .archive .list__item + .list__item {
  margin-top: 1.25rem;
  padding-top: 1.25rem;
  border-top: 1px solid rgba(0,0,0,.06);
}

/* Responsive: stack columns on smaller screens */
@media (max-width: 900px) {
  body.layout-archive.author-profile #main {
    grid-template-columns: 1fr;
    row-gap: 2rem;
  }
  body.layout-archive.author-profile #main .sidebar,
  body.layout-archive.author-profile #main .page__sidebar {
    order: -1; /* sidebar above content */
  }
}
