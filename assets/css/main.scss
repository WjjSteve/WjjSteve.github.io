---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* ===== Publications layout fix (academicpages) ===== */

body.publications .page,                  /* robust target in academicpages */
body.publications #main {                 /* fallback if #main is used */
  display: grid;
  grid-template-columns: 320px minmax(0, 1fr); /* fixed sidebar + flexible content */
  column-gap: 2rem;
  align-items: start;
}

/* Sidebar column (author profile) */
body.publications .sidebar,
body.publications .page__sidebar {
  position: static;   /* avoid sticky collisions */
  max-width: 100%;
  flex: 0 0 320px;    /* if flex is applied by theme anywhere */
}

/* Main content column */
body.publications .archive,
body.publications .page__content {
  min-width: 0;             /* critical so long titles/links donâ€™t overflow */
  overflow-wrap: anywhere;  /* prevents spillover into sidebar */
}

/* Headshot sanity */
body.publications .sidebar img,
body.publications .page__sidebar img {
  max-width: 100%;
  height: auto;
  display: block;
  border-radius: 50%;
}

/* Publication item spacing */
body.publications .archive .list__item + .list__item {
  margin-top: 1.25rem;
  padding-top: 1.25rem;
  border-top: 1px solid rgba(0,0,0,.06);
}

/* Responsive: stack on mobile/tablet */
@media (max-width: 900px) {
  body.publications .page,
  body.publications #main {
    grid-template-columns: 1fr;
    row-gap: 2rem;
  }
  body.publications .sidebar,
  body.publications .page__sidebar {
    order: -1; /* sidebar above content */
  }
}
